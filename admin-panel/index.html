<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>College Admin Panel</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">üéì</div>
                <h1>Admin Panel</h1>
            </div>

            <nav class="nav-menu">
                <button class="nav-item active" data-section="dashboard">
                    <span class="icon">üìä</span>
                    <span>Dashboard</span>
                </button>
                <button class="nav-item" data-section="students">
                    <span class="icon">üë®‚Äçüéì</span>
                    <span>Students</span>
                </button>
                <button class="nav-item" data-section="teachers">
                    <span class="icon">üë®‚Äçüè´</span>
                    <span>Teachers</span>
                </button>
                <button class="nav-item" data-section="timetable">
                    <span class="icon">üìÖ</span>
                    <span>Timetable</span>
                </button>
                <button class="nav-item" data-section="classrooms">
                    <span class="icon">üè´</span>
                    <span>Classrooms</span>
                </button>
                <button class="nav-item" data-section="calendar">
                    <span class="icon">üìÜ</span>
                    <span>Calendar</span>
                </button>
                <button class="nav-item" data-section="periods">
                    <span class="icon">‚è∞</span>
                    <span>Period Settings</span>
                </button>
                <button class="nav-item" data-section="settings">
                    <span class="icon">‚öôÔ∏è</span>
                    <span>Settings</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="server-status">
                    <div class="status-indicator" id="serverStatus"></div>
                    <span id="serverStatusText">Connecting...</span>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-bar">
                <div class="search-bar">
                    <input type="text" placeholder="Search..." id="globalSearch">
                </div>
                <div class="user-info">
                    <span class="user-name">Admin User</span>
                    <div class="user-avatar">A</div>
                </div>
            </header>

            <div class="content-area">
                <!-- Dashboard Section -->
                <section id="dashboard-section" class="section active">
                    <h2 class="section-title">Dashboard Overview</h2>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">üë®‚Äçüéì</div>
                            <div class="stat-info">
                                <h3 id="totalStudents">0</h3>
                                <p>Total Students</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üë®‚Äçüè´</div>
                            <div class="stat-info">
                                <h3 id="totalTeachers">0</h3>
                                <p>Total Teachers</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìÖ</div>
                            <div class="stat-info">
                                <h3 id="totalTimetables">0</h3>
                                <p>Timetables</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìä</div>
                            <div class="stat-info">
                                <h3 id="totalAttendance">0</h3>
                                <p>Attendance Records</p>
                            </div>
                        </div>
                    </div>

                    <!-- Course Distribution -->
                    <div class="dashboard-section">
                        <h3>Students by Course</h3>
                        <div class="course-stats" id="courseStats">
                            <div class="course-stat">
                                <div class="course-name">CSE</div>
                                <div class="course-count" id="cseCount">0</div>
                            </div>
                            <div class="course-stat">
                                <div class="course-name">ECE</div>
                                <div class="course-count" id="eceCount">0</div>
                            </div>
                            <div class="course-stat">
                                <div class="course-name">ME</div>
                                <div class="course-count" id="meCount">0</div>
                            </div>
                            <div class="course-stat">
                                <div class="course-name">Civil</div>
                                <div class="course-count" id="civilCount">0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Semester Distribution -->
                    <div class="dashboard-section">
                        <h3>Students by Semester</h3>
                        <div class="semester-stats" id="semesterStats">
                            <div class="semester-stat">
                                <div class="semester-name">Semester 1</div>
                                <div class="semester-count" id="sem1Count">0</div>
                            </div>
                            <div class="semester-stat">
                                <div class="semester-name">Semester 3</div>
                                <div class="semester-count" id="sem3Count">0</div>
                            </div>
                            <div class="semester-stat">
                                <div class="semester-name">Semester 5</div>
                                <div class="semester-count" id="sem5Count">0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Attendance Overview -->
                    <div class="dashboard-section">
                        <h3>Attendance Overview</h3>
                        <div class="attendance-overview" id="attendanceOverview">
                            <div class="attendance-stat">
                                <div class="attendance-label">Overall Rate</div>
                                <div class="attendance-value" id="overallRate">0%</div>
                            </div>
                            <div class="attendance-stat">
                                <div class="attendance-label">Present Today</div>
                                <div class="attendance-value" id="presentToday">0</div>
                            </div>
                            <div class="attendance-stat">
                                <div class="attendance-label">Total Days</div>
                                <div class="attendance-value" id="totalDays">0</div>
                            </div>
                        </div>
                    </div>

                    <div class="recent-activity">
                        <h3>Recent Activity</h3>
                        <div id="activityList" class="activity-list">
                            <!-- Activity items will be added here -->
                        </div>
                    </div>
                </section>

                <!-- Students Section -->
                <section id="students-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Student Management</h2>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="bulkStudentBtn">üì§ Bulk Import</button>
                            <button class="btn btn-primary" id="addStudentBtn">‚ûï Add Student</button>
                        </div>
                    </div>

                    <div class="filters">
                        <select id="semesterFilter" class="filter-select">
                            <option value="">All Semesters</option>
                            <option value="1">Semester 1</option>
                            <option value="2">Semester 2</option>
                            <option value="3">Semester 3</option>
                            <option value="4">Semester 4</option>
                            <option value="5">Semester 5</option>
                            <option value="6">Semester 6</option>
                            <option value="7">Semester 7</option>
                            <option value="8">Semester 8</option>
                        </select>
                        <select id="courseFilter" class="filter-select">
                            <option value="">All Courses</option>
                            <option value="CSE">Computer Science</option>
                            <option value="ECE">Electronics</option>
                            <option value="ME">Mechanical</option>
                            <option value="CE">Civil</option>
                        </select>
                        <input type="text" id="studentSearch" class="search-input" placeholder="Search students...">
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Enrollment No</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Course</th>
                                    <th>Semester</th>
                                    <th>DOB</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="studentsTableBody">
                                <!-- Student rows will be added here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Teachers Section -->
                <section id="teachers-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Teacher Management</h2>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="bulkTeacherBtn">üì§ Bulk Import</button>
                            <button class="btn btn-primary" id="addTeacherBtn">‚ûï Add Teacher</button>
                        </div>
                    </div>

                    <div class="filters">
                        <select id="departmentFilter" class="filter-select">
                            <option value="">All Departments</option>
                            <option value="CSE">Computer Science</option>
                            <option value="ECE">Electronics</option>
                            <option value="ME">Mechanical</option>
                            <option value="CE">Civil</option>
                        </select>
                        <input type="text" id="teacherSearch" class="search-input" placeholder="Search teachers...">
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Employee ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Department</th>
                                    <th>Subject</th>
                                    <th>DOB</th>
                                    <th>Timetable Access</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="teachersTableBody">
                                <!-- Teacher rows will be added here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Timetable Section -->
                <section id="timetable-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Timetable Management</h2>
                        <div class="action-buttons">
                            <button class="btn btn-primary" id="createTimetableBtn">‚ûï Create Timetable</button>
                        </div>
                    </div>

                    <div class="filters">
                        <select id="timetableSemester" class="filter-select">
                            <option value="">Select Semester</option>
                            <option value="1">Semester 1</option>
                            <option value="2">Semester 2</option>
                            <option value="3">Semester 3</option>
                            <option value="4">Semester 4</option>
                            <option value="5">Semester 5</option>
                            <option value="6">Semester 6</option>
                            <option value="7">Semester 7</option>
                            <option value="8">Semester 8</option>
                        </select>
                        <select id="timetableCourse" class="filter-select">
                            <option value="">Select Course</option>
                            <option value="CSE">Computer Science</option>
                            <option value="ECE">Electronics</option>
                            <option value="ME">Mechanical</option>
                            <option value="CE">Civil</option>
                        </select>
                    </div>

                    <div id="timetableEditor" class="timetable-editor">
                        <!-- Timetable grid will be rendered here -->
                    </div>
                </section>

                <!-- Calendar Section -->
                <section id="calendar-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Academic Calendar</h2>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="exportCalendarBtn">üì§ Export</button>
                            <button class="btn btn-primary" id="addHolidayBtn">‚ûï Add Holiday</button>
                        </div>
                    </div>

                    <div class="calendar-tools">
                        <button class="tool-btn" onclick="showAcademicYearSettings()">üìÖ Academic Year</button>
                        <button class="tool-btn" onclick="showSemesterDates()">üìÜ Semester Dates</button>
                        <button class="tool-btn" onclick="showExamSchedule()">üìù Exam Schedule</button>
                        <button class="tool-btn" onclick="showEventManager()">üéâ Events</button>
                        <button class="tool-btn" onclick="bulkImportHolidays()">üì• Import Holidays</button>
                    </div>

                    <div class="calendar-container">
                        <div class="calendar-header">
                            <button class="calendar-nav-btn" onclick="previousMonth()">‚óÄ</button>
                            <h3 id="calendarMonthYear">January 2025</h3>
                            <button class="calendar-nav-btn" onclick="nextMonth()">‚ñ∂</button>
                        </div>
                        <div id="adminCalendar" class="admin-calendar">
                            <!-- Calendar grid will be rendered here -->
                        </div>
                    </div>

                    <div class="holidays-list">
                        <h3>Holidays & Events</h3>
                        <div id="holidaysList">
                            <!-- Holidays list will be rendered here -->
                        </div>
                    </div>
                </section>

                <!-- Classrooms Section -->
                <section id="classrooms-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Classroom Management</h2>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="bulkClassroomBtn">üì• Bulk Import</button>
                            <button class="btn btn-primary" id="addClassroomBtn">‚ûï Add Classroom</button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Room Number</th>
                                    <th>Building</th>
                                    <th>Capacity</th>
                                    <th>WiFi BSSID</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="classroomsTableBody">
                                <!-- Classroom rows will be added here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Period Settings Section -->
                <section id="periods-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Period Configuration</h2>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="resetPeriodsBtn">üîÑ Reset to Default</button>
                            <button class="btn btn-primary" id="addPeriodBtn">‚ûï Add Period</button>
                        </div>
                    </div>

                    <div class="period-info-card">
                        <h3>‚è∞ Manage Class Periods</h3>
                        <p>Configure the number of periods and their timings. Changes will apply to all timetables across all semesters and branches.</p>
                        <div class="period-stats">
                            <div class="stat-item">
                                <span class="stat-label">Total Periods:</span>
                                <span class="stat-value" id="totalPeriodsCount">8</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Class Duration:</span>
                                <span class="stat-value" id="classDuration">09:40 - 16:10</span>
                            </div>
                        </div>
                    </div>

                    <div class="periods-container">
                        <div class="periods-list" id="periodsList">
                            <!-- Periods will be loaded here -->
                        </div>
                    </div>

                    <div class="period-actions">
                        <button class="btn btn-success btn-large" id="savePeriodsBtn">üíæ Save & Apply to All Timetables</button>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settings-section" class="section">
                    <h2 class="section-title">Settings</h2>

                    <div class="settings-grid">
                        <div class="settings-card">
                            <h3>Server Configuration</h3>
                            <div class="form-group">
                                <label>Server URL</label>
                                <input type="text" id="serverUrl" value="https://google-8j5x.onrender.com"
                                    class="form-input" placeholder="https://your-server.onrender.com">
                                <small style="color: #888; display: block; margin-top: 5px;">
                                    Cloud: https://google-8j5x.onrender.com<br>
                                    Local: http://192.168.9.31:3000
                                </small>
                            </div>
                            <button class="btn btn-primary" id="saveServerBtn">Save</button>
                        </div>

                        <div class="settings-card">
                            <h3>Database</h3>
                            <div class="form-group">
                                <label>MongoDB URI</label>
                                <input type="text" id="mongoUri" value="mongodb://localhost:27017/attendance_app"
                                    class="form-input">
                            </div>
                            <button class="btn btn-primary" id="saveDbBtn">Save</button>
                        </div>

                        <div class="settings-card">
                            <h3>Backup & Restore</h3>
                            <button class="btn btn-secondary">üì• Backup Database</button>
                            <button class="btn btn-secondary">üì§ Restore Database</button>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- Attendance Report Modal -->
    <div id="attendanceModal" class="modal">
        <div class="modal-content modal-large">
            <span class="modal-close" onclick="closeAttendanceModal()">&times;</span>
            <div id="attendanceModalBody">
                <!-- Attendance report will be rendered here -->
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>

</html>